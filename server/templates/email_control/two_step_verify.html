{% extends 'common/accounts_base.html' %}
{% load static %}

{% block title %}Two Steps Verification | WSS{% endblock %}

{% block auth_content %}
<!-- auth page content -->
<div class="auth-page-content">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="text-center mt-sm-5 mb-4 text-white-50">
                    <div>
                        <a href="{% url 'dashboard' %}" class="d-inline-block auth-logo">
                            <img src="{% static 'common/img/logo/logo-dark.png' %}" alt="" height="25">
                        </a>
                    </div>
                    <p class="mt-3 fs-15 fw-medium">Warehouse surveillance system</p>
                </div>
            </div>
        </div>
        <!-- end row -->

        <div class="row justify-content-center">
            <div class="col-md-8 col-lg-6 col-xl-5">
                <div class="card mt-4">
                    <div class="card-body p-4">
                        <div class="mb-4">
                            <div class="avatar-lg mx-auto">
                                <div class="avatar-title bg-light text-primary display-5 rounded-circle shadow">
                                    <i class="ri-mail-line"></i>
                                </div>
                            </div>
                        </div>

                        <div class="p-2 mt-4">
                            <div class="text-muted text-center mb-4 mx-lg-3">
                                <h4 class="">Verify Your Email</h4>

                                <p>Please enter the 4-digit code sent to <span class="fw-semibold">{{ request_email }}</span></p>
                            </div>

                            <form autocomplete="off" method="post" action="{% url 'email_verify' request_email %}">
                               {% if message %}
                                <div class="alert alert-danger alert-dismissible alert-solid alert-label-icon shadow fade show" role="alert">
                                    <i class="ri-error-warning-line label-icon"></i>{{ message }}
                                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="alert" aria-label="Close"></button>
                                </div>
                                {% endif %}
                               {% if resend_message %}
                                <div class="alert alert-info alert-dismissible alert-solid alert-label-icon shadow fade show" role="alert">
                                    <i class="ri-airplay-line label-icon"></i>{{ resend_message }}
                                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="alert" aria-label="Close"></button>
                                </div>
                                {% endif %}
                                <div class="row">
                                    <div class="col-3">
                                        <div class="mb-3">
                                            <label for="digit1-input" class="visually-hidden">Digit 1</label>
                                            <input type="text" name="digit1" class="form-control form-control-lg bg-light border-light text-center" onkeyup="moveToNext(1, event)" maxLength="1" id="digit1-input">
                                        </div>
                                    </div><!-- end col -->

                                    <div class="col-3">
                                        <div class="mb-3">
                                            <label for="digit2-input" class="visually-hidden">Digit 2</label>
                                            <input type="text" name="digit2" class="form-control form-control-lg bg-light border-light text-center" onkeyup="moveToNext(2, event)" maxLength="1" id="digit2-input">
                                        </div>
                                    </div><!-- end col -->

                                    <div class="col-3">
                                        <div class="mb-3">
                                            <label for="digit3-input" class="visually-hidden">Digit 3</label>
                                            <input type="text" name="digit3" class="form-control form-control-lg bg-light border-light text-center" onkeyup="moveToNext(3, event)" maxLength="1" id="digit3-input">
                                        </div>
                                    </div><!-- end col -->

                                    <div class="col-3">
                                        <div class="mb-3">
                                            <label for="digit4-input" class="visually-hidden">Digit 4</label>
                                            <input type="text" name="digit4" class="form-control form-control-lg bg-light border-light text-center" onkeyup="moveToNext(4, event)" maxLength="1" id="digit4-input">
                                        </div>
                                    </div><!-- end col -->
                                </div>
                                <div class="mt-3">
                                    <button type="submit" class="btn btn-success w-100">Confirm</button>
                                </div>
                            </form><!-- end form -->
                        </div>
                    </div>
                    <!-- end card body -->
                </div>
                <!-- end card -->

                <div class="mt-4 text-center">
                    <p class="mb-0">Didn't receive a code ? <a href="{% url 'resend_email_verify' request_email %}" class="fw-semibold text-primary text-decoration-underline">Resend</a> </p>
                </div>

            </div>
        </div>
        <!-- end row -->
    </div>
    <!-- end container -->
</div>
<!-- end auth page content -->
{% endblock %}

{% block js %}
    <!-- particles js -->
    <script src="{% static 'common/libs/particles.js/particles.js' %}"></script>
    <!-- particles app js -->
    <script src="{% static 'common/js/particles.app.js' %}"></script>
    <!-- password-addon init -->
    <script src="{% static 'accounts/js/password-addon.init.js' %}"></script>
    <!-- two-step-verification js -->
    <script src="{% static 'accounts/js/two-step-verification.init.js' %}"></script>
{% endblock %}